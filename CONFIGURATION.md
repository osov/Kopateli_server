# Документация по конфигурации

Этот документ описывает все настраиваемые параметры сервера и игры. Конфигурационные файлы находятся в директории `src/config`.

## 1. Конфигурация сервера (`src/config/server.ts`)

Этот файл содержит глобальные настройки, связанные с работой самого сервера, подключением к базам данных и безопасностью.

```typescript
export const SERVER_CONFIG = {
    // Порт, на котором будет запущен основной WebSocket сервер
    server_port: 5000,
    
    // Настройки для подключения к базе данных MySQL
    database_config: {
        host: 'localhost',
        user: 'root',
        database: 'db',
        password: ''
    },
    
    // Интервал в миллисекундах для отправки ping-запроса к БД для поддержания соединения
    database_ping_interval: 10 * 60 * 1000,

    // URL для подключения к серверу Redis
    redis_url: "",

    // "Соль" для хэширования и проверки подлинности сессий
    salt: 'session_salt',
}; 
```

## 2. Игровая конфигурация (`src/config/game.ts`)

Этот файл содержит параметры, которые влияют непосредственно на игровой процесс.

```typescript
export const _GAME_CONFIG: IGameConfig = {
    // Максимальная длина никнейма игрока
    max_length_nick: 20,

    // Множитель масштаба для "домашних" локаций
    HOME_SCALAR: 0.35,

    // Словарь всех игровых локаций
    locations: {
        // Название локации (используется как ID)
        main: {
            layer: 9,       // Слой, на котором отображается локация
            x: 201,         // Координата X по умолчанию
            y: -156,        // Координата Y по умолчанию
            zones: []       // Массив зон (например, для переходов), заполняется при старте из .scn файлов
        },
        // ... другие локации
    }
};
```

### Локации

Каждая запись в `locations` представляет собой игровую локацию. Ключ объекта (например, `main`, `dump`) является уникальным идентификатором локации. При старте сервера данные о зонах внутри локаций (такие как точки входа и выхода) загружаются из соответствующих `.scn` файлов в директории `data/scene_data` и добавляются в массив `zones`.
